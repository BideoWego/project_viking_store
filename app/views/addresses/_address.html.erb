<%= render :partial => 'shared/table', :locals => {:table => {
  :headers => ['Key', 'Value'],
  :rows => address.attributes.keys.map do |a|
    if a == 'user_id'
      value = address.user ? link_to('user', user_path(address.user)) : 'No user'
    else
      value = address.attributes[a]
    end
    [a, value]
  end
}} %>

<%= render :partial => 'shared/edit_delete_buttons', :locals => {
  :edit_path => edit_user_address_path(user, address),
  :delete_path => address_path(address)
} %>
